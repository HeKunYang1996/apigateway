# APIç½‘å…³éƒ¨ç½²åŒ…

## ğŸ“ æ–‡ä»¶è¯´æ˜

- `voltageems-apigateway-*.tar.gz` - é¢„æ„å»ºçš„Dockeré•œåƒæ–‡ä»¶
- `start.sh` - å·¥æ§æœºå¯åŠ¨è„šæœ¬
- `load_image.sh` - é•œåƒåŠ è½½è„šæœ¬
- `verify_deployment.sh` - éƒ¨ç½²éªŒè¯è„šæœ¬
- `build_image.sh` - é•œåƒæ„å»ºè„šæœ¬ï¼ˆå¼€å‘æœºä½¿ç”¨ï¼‰
- `README.md` - éƒ¨ç½²è¯´æ˜æ–‡æ¡£

## ğŸš€ å¿«é€Ÿéƒ¨ç½²

### 1. ä¼ è¾“æ–‡ä»¶åˆ°å·¥æ§æœº
å°†ä»¥ä¸‹æ–‡ä»¶ä¼ è¾“åˆ°å·¥æ§æœºï¼š
- `voltageems-apigateway-*.tar.gz` (é•œåƒæ–‡ä»¶)
- `load_image.sh` (é•œåƒåŠ è½½è„šæœ¬)
- `start.sh` (æœåŠ¡å¯åŠ¨è„šæœ¬)
- `verify_deployment.sh` (éƒ¨ç½²éªŒè¯è„šæœ¬)
- `README.md` (éƒ¨ç½²è¯´æ˜æ–‡æ¡£)

### 2. åŠ è½½Dockeré•œåƒ
```bash
chmod +x *.sh
./load_image.sh
```
**è¯´æ˜**: è„šæœ¬ä¼šè‡ªåŠ¨ä¸ºåŠ è½½çš„é•œåƒåˆ›å»º`latest`æ ‡ç­¾

### 3. å¯åŠ¨æœåŠ¡
```bash
./start.sh
```
**è¯´æ˜**: è„šæœ¬ä¼šæ™ºèƒ½é€‰æ‹©å¯ç”¨çš„é•œåƒç‰ˆæœ¬å¹¶ï¼š
- ä¼˜å…ˆä½¿ç”¨`latest`æ ‡ç­¾
- å…¶æ¬¡é€‰æ‹©ç‰ˆæœ¬å·æœ€é«˜çš„é•œåƒ
- æœ€åä½¿ç”¨ä»»æ„å¯ç”¨é•œåƒ
- è‡ªåŠ¨åˆ›å»ºå¤–éƒ¨é…ç½®ç›®å½•ï¼š`/extp/config`
- é¦–æ¬¡è¿è¡Œæ—¶è‡ªåŠ¨åˆ›å»ºç®¡ç†å‘˜ç”¨æˆ·

### 4. éªŒè¯éƒ¨ç½²
```bash
./verify_deployment.sh
```
**è¯´æ˜**: éªŒè¯è„šæœ¬ä¼šæ£€æŸ¥ï¼š
- Dockerå’Œå®¹å™¨çŠ¶æ€
- ç«¯å£ç›‘å¬æƒ…å†µ
- å¥åº·æ£€æŸ¥æ¥å£
- é…ç½®å’Œæ—¥å¿—ç›®å½•
- è®¤è¯APIåŠŸèƒ½
- Redisè¿æ¥çŠ¶æ€

## ğŸ”§ ç®¡ç†å‘½ä»¤

```bash
# æŸ¥çœ‹æœåŠ¡çŠ¶æ€
docker ps | grep voltageems-apigateway

# æŸ¥çœ‹æ—¥å¿—
docker logs voltageems-apigateway

# åœæ­¢æœåŠ¡
docker stop voltageems-apigateway

# é‡å¯æœåŠ¡
docker restart voltageems-apigateway
```

## ğŸ“± æœåŠ¡è®¿é—®

- APIç½‘å…³: http://localhost:6005
- WebSocket: ws://localhost:6005/ws
- å¥åº·æ£€æŸ¥: http://localhost:6005/health

## âš ï¸ æ³¨æ„äº‹é¡¹

1. ç¡®ä¿RedisæœåŠ¡è¿è¡Œåœ¨localhost:6379
2. ç¡®ä¿6005ç«¯å£æœªè¢«å ç”¨
3. ä½¿ç”¨hostç½‘ç»œæ¨¡å¼ï¼Œç›´æ¥è®¿é—®å®¿ä¸»æœºç½‘ç»œ
4. ç›®å½•æŒ‚è½½ï¼š
   - æ—¥å¿—ç›®å½•ï¼š`/extp/logs` â†’ `/app/logs`
   - é…ç½®ç›®å½•ï¼š`/extp/config` â†’ `/app/config`
5. æ•°æ®åº“æ–‡ä»¶å°†å­˜å‚¨åœ¨ï¼š`/extp/config/voltageems.db`
6. é•œåƒåç§°ï¼švoltageems-apigateway
7. å®¹å™¨åç§°ï¼švoltageems-apigateway

## ğŸ” é»˜è®¤ç®¡ç†å‘˜è´¦æˆ·

é¦–æ¬¡å¯åŠ¨æ—¶ä¼šè‡ªåŠ¨åˆ›å»ºç®¡ç†å‘˜è´¦æˆ·ï¼š
- **ç”¨æˆ·å**: `admin`
- **å¯†ç **: `admin123`
- **é‚®ç®±**: `admin@voltageems.com`
- **è§’è‰²**: ç®¡ç†å‘˜

âš ï¸ **å®‰å…¨æé†’**: è¯·åœ¨é¦–æ¬¡ç™»å½•åç«‹å³ä¿®æ”¹é»˜è®¤å¯†ç ï¼

## ğŸ“Š æ•°æ®æŒä¹…åŒ–

é…ç½®å’Œæ•°æ®æ–‡ä»¶å­˜å‚¨åœ¨å·¥æ§æœºçš„ `/extp/` ç›®å½•ä¸‹ï¼š
```
/extp/
â”œâ”€â”€ config/
â”‚   â””â”€â”€ voltageems.db    # SQLiteæ•°æ®åº“æ–‡ä»¶
â””â”€â”€ logs/
    â””â”€â”€ apigateway.log   # åº”ç”¨æ—¥å¿—æ–‡ä»¶
```

**ç¯å¢ƒè‡ªåŠ¨æ£€æµ‹**ï¼šç³»ç»Ÿä¼šè‡ªåŠ¨æ£€æµ‹è¿è¡Œç¯å¢ƒ
- ğŸ³ **å®¹å™¨ç¯å¢ƒ**ï¼šæ•°æ®åº“å­˜å‚¨åœ¨ `/app/config/voltageems.db`ï¼ˆæ˜ å°„åˆ° `/extp/config/`ï¼‰
- ğŸ’» **å¼€å‘ç¯å¢ƒ**ï¼šæ•°æ®åº“å­˜å‚¨åœ¨ `app/config/voltageems.db`ï¼ˆé¡¹ç›®ç›®å½•å†…ï¼‰

## ğŸ”„ ç‰ˆæœ¬å‡çº§

1. æ„å»ºæ–°ç‰ˆæœ¬é•œåƒ
2. ä¼ è¾“æ–°çš„ `.tar.gz` æ–‡ä»¶åˆ°å·¥æ§æœº
3. è¿è¡Œ `./load_image.sh` åŠ è½½æ–°é•œåƒ
4. è¿è¡Œ `./start.sh` é‡å¯æœåŠ¡

**æ³¨æ„**: å‡çº§ä¸ä¼šå½±å“å·²å­˜åœ¨çš„ç”¨æˆ·æ•°æ®å’Œé…ç½®æ–‡ä»¶ã€‚
